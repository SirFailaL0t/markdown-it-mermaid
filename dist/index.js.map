{"version":3,"file":"index.js","mappings":"0BACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,sBCElF,MAAM,GAFEI,EAE+B,CAAE,QAAa,IAAMC,EAA6C,SAFtFC,EAAI,CAAC,EAAGhB,EAAoBiB,EAAED,EAAGF,GAAWE,GAAvDF,MAAWE,ECEbE,EAAe,SAACC,GACpB,IAEE,OADAC,EAAAA,QAAAA,MAAcD,GACP,wBAAPE,OAA+BF,EAAI,SACrC,CAAE,MAAAG,GAAsB,IAAbC,EAAGD,EAAHC,IACT,OADkBD,EAAJE,KACP,QAAPH,OAAeE,EAAG,SACpB,CACF,EA0CA,QAxCsB,SAACE,GACrBA,EAAGL,QAAUA,EAAAA,QACbA,EAAAA,QAAAA,gBAA0B,SAACM,GACzB,IAAIC,EAAeD,EAAgBlB,IAAI,sBAClBoB,IAAjBD,IACFA,EAAe,WAEjB,IAAIE,EAAkBH,EAAgBlB,IAAI,qBAY1C,YAXwBoB,IAApBC,IACFA,EAAkB,YAEpBT,EAAAA,QAAAA,WAAmB,CACjBU,MAAOH,EACPI,MAAO,CAAEC,cAAe,CACtB,CAACH,EAAiB,SAACZ,GACjB,OAAsB,IAAfA,EAAEgB,QACX,OAGG,CACL,gBAAiBN,EACjB,oBAAqBE,EAEzB,EAEA,IAAMK,EAAOT,EAAGU,SAASC,MAAMC,MAAMC,KAAKb,EAAGU,SAASC,OACtDX,EAAGU,SAASC,MAAMC,MAAQ,SAACE,EAAQC,EAAKC,EAASC,EAAKC,GACpD,IAAMC,EAAQL,EAAOC,GACfrB,EAAOyB,EAAMC,QAAQC,OAC3B,GAAmB,YAAfF,EAAMG,KACR,OAAO7B,EAAaC,GAEtB,IAAM6B,EAAY7B,EAAK8B,MAAM,MAAM,GAAGH,OACtC,MAAkB,UAAdE,GAAuC,oBAAdA,GAAmCA,EAAUE,MAAM,gCACvEhC,EAAaC,GAEfe,EAAKK,EAAQC,EAAKC,EAASC,EAAKC,EACzC,CACF,E","sources":["webpack://markdown-it-mermaid/webpack/bootstrap","webpack://markdown-it-mermaid/webpack/runtime/define property getters","webpack://markdown-it-mermaid/webpack/runtime/hasOwnProperty shorthand","webpack://markdown-it-mermaid/external module \"mermaid\"","webpack://markdown-it-mermaid/./src/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"default\"]: () => __WEBPACK_EXTERNAL_MODULE_mermaid__[\"default\"] });","import mermaid from 'mermaid'\n\nconst mermaidChart = (code) => {\n  try {\n    mermaid.parse(code)\n    return `<div class=\"mermaid\">${code}</div>`\n  } catch ({ str, hash }) {\n    return `<pre>${str}</pre>`\n  }\n}\n\nconst MermaidPlugin = (md) => {\n  md.mermaid = mermaid\n  mermaid.loadPreferences = (preferenceStore) => {\n    let mermaidTheme = preferenceStore.get('mermaid-theme')\n    if (mermaidTheme === undefined) {\n      mermaidTheme = 'default'\n    }\n    let ganttAxisFormat = preferenceStore.get('gantt-axis-format')\n    if (ganttAxisFormat === undefined) {\n      ganttAxisFormat = '%Y-%m-%d'\n    }\n    mermaid.initialize({\n      theme: mermaidTheme,\n      gantt: { axisFormatter: [\n        [ganttAxisFormat, (d) => {\n          return d.getDay() === 1\n        }]\n      ]}\n    })\n    return {\n      'mermaid-theme': mermaidTheme,\n      'gantt-axis-format': ganttAxisFormat\n    }\n  }\n\n  const temp = md.renderer.rules.fence.bind(md.renderer.rules)\n  md.renderer.rules.fence = (tokens, idx, options, env, slf) => {\n    const token = tokens[idx]\n    const code = token.content.trim()\n    if (token.info === 'mermaid') {\n      return mermaidChart(code)\n    }\n    const firstLine = code.split(/\\n/)[0].trim()\n    if (firstLine === 'gantt' || firstLine === 'sequenceDiagram' || firstLine.match(/^graph (?:TB|BT|RL|LR|TD);?$/)) {\n      return mermaidChart(code)\n    }\n    return temp(tokens, idx, options, env, slf)\n  }\n}\n\nexport default MermaidPlugin\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE_mermaid__","x","d","mermaidChart","code","mermaid","concat","_ref","str","hash","md","preferenceStore","mermaidTheme","undefined","ganttAxisFormat","theme","gantt","axisFormatter","getDay","temp","renderer","rules","fence","bind","tokens","idx","options","env","slf","token","content","trim","info","firstLine","split","match"],"sourceRoot":""}